{
  "id": "https://xviz.org/schema/session/stream_metadata.json",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "XVIZ Stream Metadata",
  "type": "object",
  "properties": {
    "source": {
      "type": "string"
    },
    "units": {
      "type": "string"
    },
    "coordinate": {},
    "transform": {},
    "stream_style": {
        "$ref": "https://xviz.org/schema/style/stream_value.json"
    },
    "style_classes": {
      "type": "array",
      "items": {
        "$ref": "https://xviz.org/schema/style/class.json"
      },
      "additionalItems": false
    }
  },
  "anyOf": [
    {
      "properties": {
        "coordinate": {
          "enum": [
            "GEOGRAPHIC",
            "IDENTITY"
          ]
        }
      }
    },
    {
      "properties": {
        "coordinate": { "enum": ["VEHICLE_RELATIVE"] },
        "transform": { "$ref": "https://xviz.org/schema/math/matrix4x4.json" }
      }
    },
    {
      "properties": {
        "coordinate": { "enum": ["DYNAMIC"] },
        "transform": { "type": "string" }
      },
      "required": ["transform"]
    }
  ],
  "additionalProperties": false
}
